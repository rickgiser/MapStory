/**
 * Created by Super洛伽 on 2016/11/19.
 */
window.onload=function(){if(typeof Cesium!=="undefined"){_require(Cesium)}else if(typeof require==="function"){require(['Source/Cesium','ThirdParty/echarts'],_require)}function _require(Cesium,echarts){let rota;viewer=EarthWork.createEarth("earth");setTimeout(function(){$('#myModal').modal('show');rota=EarthWork.earthRotate()},3000);$(".close").click(function(){viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);viewer.clock.multiplier=1.0;viewer.scene.preRender.removeEventListener(rota);viewer.scene.globe.enableLighting=false});$("#modal-close").click(function(){viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);viewer.clock.multiplier=1.0;viewer.scene.preRender.removeEventListener(rota);viewer.scene.globe.enableLighting=false});$("#start").click(function(){viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);viewer.clock.multiplier=1.0;viewer.scene.preRender.removeEventListener(rota);viewer.scene.globe.enableLighting=false;$('#myModal').modal('hide');viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(117.0898945686,39.0879073373),billboard:{image:'image/loc.png',show:true,width:20,height:54}});viewer.camera.flyTo({destination:{x:-2257680.4400907583,y:4414426.281133885,z:3999938.668398592},orientation:{heading:0.23252760570410214,pitch:-0.7817016693725307,roll:0.0010768469097222066},complete:function(){$("#introTitle").text("相约城大");$("#introContent").text("2012年9月22日，是我们12地信学子正式开学的日子，从此开启了一段美好的旅程");$("#introPanel").fadeIn("4000")}})});let next=0;$("#next").click(function(){switch(next){case 0:$("#introPanel").fadeOut("4000");viewer.entities.removeAll();viewer.camera.flyTo({destination:{x:-2257121.7766280808,y:4413639.222748778,z:4000419.6784771914},orientation:{heading:1.2447085343550555,pitch:-0.8107232430669828,roll:0.0045216462030275295},easingFunction:Cesium.EasingFunction.QUARTIC_IN_OUT,complete:function(){viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(117.0884625686,39.0923483373),billboard:{image:'image/loc.png',show:true,width:20,height:54}});viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(117.0895985686,39.0923693373),billboard:{image:'image/loc.png',show:true,width:20,height:54}});$("#introPic").attr("src","image/jianti.png");$("#introTitle").text("我们的宿舍楼");$("#introContent").text("我们男生被分配到了健体斋，而女生则被分配到了相隔不远的春华斋");$("#introPanel").fadeIn("4000")}});next++;break;case 1:$("#introPanel").fadeOut("4000");viewer.entities.removeAll();viewer.camera.flyTo({destination:{x:-2257147.3646692564,y:4413489.67736774,z:4000515.370055069},orientation:{heading:2.2418539874942844,pitch:-0.7166181208932225,roll:0.0034058406697594634},easingFunction:Cesium.EasingFunction.QUARTIC_IN_OUT,complete:function(){viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(117.0897645686,39.0893983373),billboard:{image:'image/loc.png',show:true,width:20,height:54}});$("#introPic").attr("src","image/xjl.jpg");$("#introTitle").text("上课啦");$("#introContent").text("一开始，我们是在东西配上高数、工图之类的公共课，在行健楼上英语，每次都挤不着电梯，然后只能爬楼梯，九层呐。。。");$("#introPanel").fadeIn("4000")}});next++;break;case 2:$("#introPanel").fadeOut("4000");viewer.entities.removeAll();viewer.camera.flyTo({destination:{x:-2257371.0955255623,y:4413379.499099302,z:4000475.1424221545},orientation:{heading:0.8722427049459194,pitch:-0.9389347177846896,roll:0.004270629722140207},easingFunction:Cesium.EasingFunction.QUARTIC_IN_OUT,complete:function(){viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(117.0912465686,39.0939233373),billboard:{image:'image/loc.png',show:true,width:20,height:54}});$("#introPic").attr("src","image/tuanri.jpeg");$("#introTitle").text("团日活动");$("#introContent").text("很快，我们在资测楼305举行了第一次团日活动，彼此之间更加熟悉。");$("#introPanel").fadeIn("4000")}});next++;break;case 3:$("#introPanel").fadeOut("4000");viewer.entities.removeAll();viewer.camera.flyTo({destination:{x:-2262937.460963564,y:4412393.186848419,z:4000384.7119572796},orientation:{heading:0.864225142218153,pitch:-1.040050477180082,roll:0.004955887955547134},easingFunction:Cesium.EasingFunction.QUARTIC_IN_OUT,complete:function(){viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(117.1615048739,39.0877160084),billboard:{image:'image/loc.png',show:true,width:20,height:54}});$("#introPic").attr("src","image/shuisgy.jpg");$("#introTitle").text("水上公园");$("#introContent").text("在四年中，我们去过水上公园，在游乐场欢腾，在动物园寻觅");$("#introPanel").fadeIn("4000")}});next++;break;case 4:$("#introPanel").fadeOut("4000");viewer.entities.removeAll();viewer.camera.flyTo({destination:{x:-2263776.004520097,y:4407768.129166227,z:4003255.6154305376},orientation:{heading:2.5374053144740096,pitch:-0.7278970194056029,roll:0.0024937234894579774},easingFunction:Cesium.EasingFunction.QUARTIC_IN_OUT,complete:function(){viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(117.1891987324,39.1187428002),billboard:{image:'image/loc.png',show:true,width:20,height:54}});$("#introPic").attr("src","image/binjiangdao.jpg");$("#introTitle").text("滨江道");$("#introContent").text("也经常坐3号地铁来滨江道，吃自助，看电影。");$("#introPanel").fadeIn("4000")}});next++;break;case 5:$("#introPanel").fadeOut("4000");viewer.entities.removeAll();viewer.camera.flyTo({destination:{x:-2257106.512886513,y:4413423.335169549,z:4000685.653146593},orientation:{heading:0.7472528068653785,pitch:-0.7727704276411211,roll:0.003124983591701991},easingFunction:Cesium.EasingFunction.QUARTIC_IN_OUT,complete:function(){viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(117.0895332098,39.0971828116),billboard:{image:'image/loc.png',show:true,width:20,height:54}});$("#introPic").attr("src","image/xianjiao.jpeg");$("#introTitle").text("毕业");$("#introContent").text("四年很快，不经意间，我们就已经到了穿上学士服的那一刻");$("#introPanel").fadeIn("4000")}});next++;break;case 6:$("#introPanel").fadeOut("4000");viewer.entities.removeAll();viewer.camera.flyTo({destination:{x:-2257270.829367236,y:4413170.951721968,z:4000501.5450407034},orientation:{heading:1.6141067066454342,pitch:-0.8741482566871932,roll:0.005113159594985817},easingFunction:Cesium.EasingFunction.QUARTIC_IN_OUT,complete:function(){viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(117.0914536714,39.0934627885),billboard:{image:'image/loc.png',show:true,width:20,height:54}});$("#introPic").attr("src","image/dayq.jpeg");$("#introTitle").text("毕业");$("#introContent").text("大圆球——我们学院的标志，也成了我们毕业值得留念的背景");$("#introPanel").fadeIn("4000")}});next++;break;case 7:$("#introPanel").fadeOut("4000");viewer.entities.removeAll();viewer.camera.flyTo({destination:{x:-2257372.8493360463,y:4413227.893642189,z:4000449.8048775773},orientation:{heading:5.663944897002089,pitch:-0.7965994138475123,roll:6.280450802526753},easingFunction:Cesium.EasingFunction.QUARTIC_IN_OUT,complete:function(){viewer.entities.add({position:Cesium.Cartesian3.fromDegrees(117.0878595114,39.0944850479),billboard:{image:'image/loc.png',show:true,width:20,height:54}});$("#introPic").attr("src","image/jucan.jpeg");$("#introTitle").text("毕业");$("#introContent").text("毕业前的最后一顿专业聚餐，那些藏在心中的话，在这一刻吐露。");$("#introPanel").fadeIn("4000")}});next++;break;case 8:$("#introPanel").fadeOut("4000");viewer.entities.removeAll();viewer.camera.flyTo({destination:{x:-2258316.574024099,y:4415082.956402702,z:3999812.14533277},orientation:{heading:6.258099384471196,pitch:-0.7168654008633908,roll:6.283075732362153},easingFunction:Cesium.EasingFunction.QUARTIC_IN_OUT,complete:function(){$(".modal-body").text("你总说毕业遥遥无期，转眼就各分东西。然而，关于城大12地信的故事，依旧会继续书写。");$("#start").remove();$('#myModal').modal('show')}})}});$(".light button").click(function(){$(".light button").removeClass("active disabled");$(this).addClass("active disabled");viewer.scene.globe.enableLighting=!viewer.scene.globe.enableLighting});$(".fog button").click(function(){$(".fog button").removeClass("active disabled");$(this).addClass("active disabled");viewer.scene.fog.enabled=!viewer.scene.fog.enabled});let eagleFlag=false;let eaglemap;$(".eagle button").click(function(){$(".eagle button").removeClass("active disabled");$(this).addClass("active disabled");eagleFlag=!eagleFlag;if(eagleFlag){if(eaglemap==undefined){eaglemap=EarthWork.createEagleMap({id:"earth3"})}else{$("#earth3").css("display","block")}}else{$("#earth3").css("display","none")}});$(".timeline button").click(function(){$(".timeline button").removeClass("active disabled");$(this).addClass("active disabled");if($(".cesium-viewer-animationContainer").css("display")=="none"){$(".cesium-viewer-animationContainer").css("display","block");$(".cesium-viewer-timelineContainer").css("display","block")}else{$(".cesium-viewer-animationContainer").css("display","none");$(".cesium-viewer-timelineContainer").css("display","none")}});$(".scenemode button").click(function(){$(".scenemode button").removeClass("active disabled");$(this).addClass("active disabled");if(viewer.scene.mode==Cesium.SceneMode.SCENE3D){viewer.scene.mode=Cesium.SceneMode.SCENE2D}else{viewer.scene.mode=Cesium.SceneMode.SCENE3D}});}};